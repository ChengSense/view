var view=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e,t,n){for(;e.length;){var o=e[0];if(t.call(n,o,e))break}}function a(e,t,n){if(e)return n=n||e,Object.keys(e).every(function(o){var c=e[o];return!t.call(c,c,o,n)}),n}function i(e,t,n){if(e)if(e.hasOwnProperty("$index"))for(var o=e.$index;o<e.length;o++)t.call(n,e[o],o);else Object.keys(e).forEach(function(o){t.call(n,e[o],o)})}function s(e){return[].slice.call(e)}function l(e){return null==e||void 0==e||""==e}Object.assign(Array.prototype,{remove:function(e){var t=this.indexOf(e);return t>-1&&this.splice(t,1),this},replace:function(e,t){var n=this.indexOf(e);n>-1&&this.splice(n,1,t)},splices:function(e){this.splice.apply(this,e)},has:function(e){return this.indexOf(e)>-1},ones:function(e){this.has(e)||this.push(e)}});var h=/(@each|@when|\.when)\s*\((.*)\)\s*\{|\.when\s*\{|\{([^\{\}]*)\}|\}/g,u=/(@each|@when|\.when)\s*\((.*)\)\s*\{|\.when\s*\{/,d=/(@each)\s*\((.*)\)\s*\{/g,f=/(@when|\.when)\s*\((.*)\)\s*\{|\.when\s*\{/g,p=/\.when\s*\((.*)\)\s*\{|\.when\s*\{/g,v=/@when/g,w=/\{\s*@?([^\{\}]*)\}/,m=/\{([^\{\}]*)\}/g,y=/\{\s*@([^\{\}]*)\}/,g=/^\}$/,N=/(["'][^"']*["'])|(([_\$a-zA-Z]+\w?)((\.\w+)|(\[(.+)\]))*)/g,$=/^@(.*)/;function b(e,t){try{return L.$path=void 0,L.$cache=new Map,R(e=e.replace(w,"$1"),t)}catch(e){return void console.warn(e)}}function E(e,t,n){try{return L.$path=void 0,L.$cache=new Map,x(e="'".concat(e.replace(m,"'+($1)+'"),"'"),t,n)}catch(e){return void console.warn(e)}}function x(e,t,n){try{var o=Reflect.getPrototypeOf(n.filter);return Reflect.setPrototypeOf(o,t),R(e,n.filter)}catch(e){return void console.warn(e)}}var O=new Map;function R(e,t){var n=O.get(e);return void 0==n&&O.set(e,n=e.replace(N,function(e){return e.match(/["']/)?e:"scope.".concat(e)})),new Function("scope","return ".concat(n,";"))(t)}function C(e,t,n,o){return{get:function(c,r){return t==r?Reflect.get(n,o):r.startsWith(t)?Reflect.get(n,r.replace(t,o)):"$target"==r?c:c.hasOwnProperty(r)?Reflect.get(c,r):Reflect.get(e,r)},set:function(c,r,a){return t==r?Reflect.set(n,o,a):r.startsWith(t)?Reflect.set(n,r.replace(t,o),a):c.hasOwnProperty(r)?Reflect.set(c,r,a):Reflect.set(e,r,a)}}}function V(e,t,n,o,c){function a(e,t){i(e.attributes,function(e){if(e){var n=function(e,t,n){return{node:e,clas:n,scope:t,children:[],childNodes:[]}}(e,t,e.cloneNode());":model"==n.clas.name?O(e,t):new RegExp(m).test(e.nodeValue)&&("value"==n.clas.name&&O(e,t),e.nodeValue=E(e.nodeValue,t,c),N.attrExpress(e,t,n)),function(e,t){e.name.replace($,function(n){n=n.replace($,"$1");var o=e.ownerElement,r=e.nodeValue.toString().match(/\(([^)]*)\)/);if(r){var a=e.nodeValue.toString().replace(r[0],""),i=b(a,c.action);o.on(n,i,t,r[1])}else{var s=b(e.nodeValue,c.action);o.on(n,s,t)}})}(e,t)}})}function h(e,t,n,o){var r;a(e,t),new RegExp(y).test(e.nodeValue)?(!function(e,t,n,o){var c=document.createComment("component");e.parentNode.replaceChild(c,e),n.scope=t,n.resolver="component",n.content=o,n.childNodes.push({node:c,content:n,children:[],childNodes:[]})}(e,t,n,o),P.component(n,c)):(r=new RegExp(m).exec(e.nodeValue))&&(e.nodeValue=function(e,t,n){try{return L.$path=void 0,L.$cache=new Map,x(e=e.replace(w,"$1"),t,n)}catch(e){return void console.warn(e)}}(r[1],t,c),N.express(e,t,n))}function g(e){if(e)return new RegExp(p).test(e.clas.nodeValue)}var N={attrEach:function(e,t,n,o){void 0!=L.$cache&&(n.resolver="each",n.content=o,n.scope=t,n.node=e,A(n,c,L.$cache))},each:function(e,t,n,o){void 0!=L.$cache&&(n.resolver="each",n.content=o,n.scope=t,n.node=e,A(n,c,L.$cache))},when:function(e,t,n){if(void 0!=L.$cache){var o=n.clas.nodeValue;new RegExp(f).exec(o)&&(n.resolver="when",n.scope=t,n.node=e,A(n,c,L.$cache))}},express:function(e,t,n){void 0!=L.$cache&&(n.resolver="express",n.scope=t,n.node=e,A(n,c,L.$cache))},attrExpress:function(e,t,n){void 0!=L.$cache&&(n.resolver="express",n.scope=t,n.node=e,A(n,c,L.$cache))}};function O(e,t){var n=e.ownerElement;n._express=e.nodeValue.replace(w,"$1");var o="scope.".concat(n._express);(R[n.type]||R[n.localName]||R.other)(e,t,o)}var R={checkbox:function(e,t,n){try{var o=e.ownerElement;o.on("change",function(){var e=o.value.replace(/(\'|\")/g,"\\$1"),n=b(o._express,t);o.checked?n.ones(e):n.remove(e)},t);var c=b(o._express,t);Array.isArray(c)&&c.has(o.value)&&(o.checked=!0)}catch(e){console.error(e)}},radio:function(e,t,n){try{var o=e.ownerElement;o.on("change",function(){var e=o.value.replace(/(\'|\")/g,"\\$1"),c="".concat(n,"='").concat(e,"';");new Function("scope",c)(t)},t),b(o._express,t)==o.value&&(o.checked=!0),o.name=L.$path}catch(e){console.error(e)}},select:function(e,t,n){try{var o,c=e.ownerElement;c.on("change",o=function(){var e=c.value.replace(/(\'|\")/g,"\\$1"),o="".concat(n,"='").concat(e,"';");new Function("scope",o)(t)},t);var r=b(c._express,t);l(r)?o():c.value=r}catch(e){console.error(e)}},other:function(e,t,n){try{var o=e.ownerElement;o.on("change",function(){var e=o.value.replace(/(\'|\")/g,"\\$1"),c="".concat(n,"='").concat(e,"';");new Function("scope",c)(t)},t)}catch(e){console.error(e)}}};function V(e,t){return{node:e,clas:t.clas,children:t.children,scope:t.scope,childNodes:[]}}function M(e,t,n){var o=document.createComment("each:"+L.$path);return t.appendChild(o),{node:e,clas:n.clas,children:n.children,scope:n.scope,childNodes:[{node:o,clas:n.clas,scope:n.scope,children:[],childNodes:[]}]}}!function e(t,n,o,c){r(o,function(o,a){if(1==o.clas.nodeType)if(o.clas.hasAttribute("@each")){var l=(x=o.clas.getAttribute("@each").split(":")).shift().trim(),p=x.pop().trim(),w=x.shift(),m=b(p,n),y=M(null,t,o);c.childNodes.push(y),N.attrEach(null,n,y,c),i(m,function(r,a){var i=Object.create(n.$target);w&&(i[w.trim()]=a),i=new Proxy(i,C(n,l,m,a));var u=o.clas.cloneNode();u.removeAttribute("@each"),t.appendChild(u);var d=V(u,o);y.childNodes.push(d),e(u,i,s(o.children),d),h(u,i,d,c)})}else if(/(CODE|SCRIPT)/.test(o.clas.nodeName)){var $=o.clas.cloneNode(!0);t.appendChild($);var E=V($,o);c.childNodes.push(E)}else $=o.clas.cloneNode(),t.appendChild($),E=V($,o),c.childNodes.push(E),e($,n,s(o.children),E),h($,n,E,c);else if(d.test(o.clas.nodeValue)){var x;l=(x=o.clas.nodeValue.replace(d,"$2").split(":")).shift().trim(),p=x.pop().trim(),w=x.shift(),m=b(p,n),y=M(null,t,o),c.childNodes.push(y),N.each(null,n,y,c);var O=s(o.children);i(m,function(c,r){var a=Object.create(n.$target);w&&(a[w.trim()]=r),a=new Proxy(a,C(n,l,m,r));var i=V(null,o);y.childNodes.push(i),e(t,a,s(O),i)})}else{if(f.test(o.clas.nodeValue)){var R=b(o.clas.nodeValue.replace(f,"$2"),n);return(y=function(e,t,n,o,c){if(new RegExp(v).test(n.clas.nodeValue)){var r=document.createComment("when:"+L.$path);t.appendChild(r),o.childNodes.push(o={node:e,clas:n.clas,children:[],scope:n.scope,content:o,childNodes:[{node:r,clas:n.clas,scope:n.scope,children:[],childNodes:[]}]}),N.when(null,c,o)}return o}(null,t,o,c,n)).children.push(a.shift()),R?(N.when(null,n,y,c),r(a,function(e,t){if(!g(e))return!0;y.children.push(t.shift())}),r(s(o.children),function(o,c){if(1==o.clas.nodeType||u.test(o.clas.nodeValue))e(t,n,c,y);else{var r=o.clas.cloneNode();t.appendChild(r);var a=V(r,o);y.childNodes.push(a),h(r,n,a,y)}c.shift()})):void 0==R?(N.when(null,n,y,c),r(s(o.children),function(o,c){if(1==o.clas.nodeType||u.test(o.clas.nodeValue))e(t,n,c,y);else{var r=o.clas.cloneNode();t.appendChild(r);var a=V(r,o);y.childNodes.push(a),h(r,n,a,y)}c.shift()})):g(a[0])&&e(t,n,a,y),g(o)}$=o.clas.cloneNode(),t.appendChild($),E=V($,o),c.childNodes.push(E),h($,n,E,c)}a.shift()})}(e,t,n,o)}var P={view:function(e,t,n,o,c){try{var r=document.createDocumentFragment();new V(r,n,s(t.children),o,c),o.children=t.children,o.clas=t.clas,e.reappend(r)}catch(e){console.error(e)}},component:function(e,t){try{var n=function(e,t,n){try{L.$path=void 0,L.$cache=new Map,e=e.replace(w,"$1").split(":");var o=new Function("scope","return scope.".concat(e[0],";"))(t);if(o&&o instanceof Component)return o;L.$path=void 0,L.$cache=new Map;var c="scope.".concat(e[0]).concat(e[1]);return(o=new Function("scope","return ".concat(c,";"))(t))&&o instanceof Component?o:(o=new Function("scope","return ".concat(e[2],";"))(t),new Function("scope","value","".concat(c,"=value;"))(t,o),L.$path=void 0,L.$cache=new Map,o=new Function("scope","return ".concat(c,";"))(t))}catch(e){return void console.warn(e)}}(e.clas.nodeValue,e.scope);n.model=n.model.$target||n.model;var o=L.$cache;if(l(n))return;Reflect.setPrototypeOf(n.model,e.scope);var c=k(e.childNodes),r=e.content.childNodes;_(e.childNodes);var a=new D({view:n.view,model:n.model,action:n.action});n.model=a.model;var i=function(e,t,n){var o=document.createComment("component:"+t.path);return e.before(o),n.content.node=n.view,{clas:t.clas,children:[n.node],scope:t.scope,resolver:t.resolver,content:t.content,childNodes:[{node:o,scope:t.scope,children:[],childNodes:[]},n.content]}}(c,e,a);A(i,t,o),r.replace(e,i),c.parentNode&&c.parentNode.replaceChild(a.view,c)}catch(e){console.error(e)}},when:function(e,t){try{var n=k(e.childNodes),o=document.createDocumentFragment(),c=e.content.childNodes;_(e.childNodes),new V(o,e.scope,s(e.children),e.content,t),c.replace(e,c.pop()),n.parentNode&&n.parentNode.replaceChild(o,n)}catch(e){console.error(e)}},each:function(e,t){try{var n=k(e.childNodes),o=document.createDocumentFragment(),c=e.content.childNodes;_(e.childNodes),new V(o,e.scope,[e],e.content,t),c.replace(e,c.pop()),n.parentNode&&n.parentNode.replaceChild(o,n)}catch(e){console.error(e)}},arrayEach:function(e,t,n,o){try{var c=function e(t,n){try{return a(t,function(t){if(t.node&&t.node.parentNode)return n=t.node;if(t.childNodes.length){var o=t.childNodes[t.childNodes.length-1];if(o.node&&o.node.parentNode)return n=o.node;n=e([o])}}),n}catch(e){console.error(e)}}([e.childNodes[n]]),r=document.createDocumentFragment(),i={clas:e.clas,children:e.children,scope:e.scope},l={childNodes:[],children:[]};new V(r,e.scope,[i],l,t),r.removeChild(r.childNodes[0]);var h=s(l.childNodes[0].childNodes);h.splice(0,1,n+1,0),e.childNodes.splices(h),o.remove(l.childNodes[0]),c.parentNode&&c.after(r)}catch(e){console.error(e)}},express:function(e,t,n){try{e.node.nodeValue=E(e.clas.nodeValue,e.scope,t),A(e,t,n),"value"==e.node.name&&(e.node.ownerElement.value=e.node.nodeValue)}catch(e){console.error(e)}},attribute:function(e,t,n){try{var o=document.createAttribute(E(e.clas.name,scope));A(e,t,n),o.nodeValue=e.clas.nodeValue,e.node.ownerElement.setAttributeNode(o),e.node.ownerElement.removeAttributeNode(e.node)}catch(e){console.error(e)}}},M=function(e,t,n){e.forEach(function(o,c){o.forEach(function(r){try{j[r.resolver]?j[r.resolver](r,c,o,t,n):P[r.resolver](r,c,e)}catch(e){console.error(e)}})})},j={each:function(e,t,n,o,c){try{if(c>0)P.arrayEach(e,t,o,n);else _(e.childNodes.splice(o+1))}catch(e){console.error(e)}}};function A(e,t,n){n.forEach(function(n){var o=n.get(t);o?o.ones(e):n.set(t,[e])})}function k(e,t){try{return a(e,function(e){if(e.node&&e.node.parentNode)return t=e.node,e.node=null,t;t=k(e.childNodes)}),t}catch(e){console.error(e)}}function _(e){e.forEach(function(e){if(e.node&&e.node.parentNode)return e.node.parentNode.removeChild(e.node);e.childNodes&&_(e.childNodes)})}function F(e,n,o){if("object"!=t(e))return e;return e=new Proxy(e,function n(o){var c=new Map,r=new Map,a=new Map;return{get:function(i,s,l){if("$target"==s)return i;if(!i.hasOwnProperty(s)&&Reflect.has(i,s))return Reflect.get(i,s);var h=o?"".concat(o,".").concat(s):s;L.$cache.delete(o),L.$cache.set(h,r.get(s)),S.publish(e,"get",[h]);var u=c.get(s);return void 0!=u?u:void 0!=(u=a.get(s))?u:(function(e){if(e instanceof Component)return;if(e instanceof Date)return;if("object"==t(e))return e}(u=Reflect.get(i,s))&&(u=new Proxy(u,n(h))),c.set(s,u),r.set(s,new Map),L.$cache.delete(o),L.$cache.set(h,r.get(s)),function(e,t){if(!Array.isArray(e))return;var n={shift:function(){var e=Array.prototype.shift,n=e.apply(this,arguments),o=this.length;return M(t,o),n},pop:function(){var e=Array.prototype.pop,n=e.apply(this,arguments),o=this.length;return M(t,o),n},splice:function(){var e=Array.prototype.splice;if(this.length){var n=this.length,o=e.apply(this,arguments);return arguments.length>2?this.$index=n:n=this.length,M(t,n,arguments.length-2),Reflect.deleteProperty(this,"$index"),o}},unshift:function(){var e=Array.prototype.unshift;if(arguments.length){var n=this.$index=this.length,o=e.apply(this,arguments);return M(t,n,arguments.length),Reflect.deleteProperty(this,"$index"),o}},push:function(){var e=Array.prototype.push;if(arguments.length){var n=this.$index=this.length,o=e.apply(this,arguments);return M(t,n,arguments.length),Reflect.deleteProperty(this,"$index"),o}},reverse:function(){var e=Array.prototype.reverse,t=e.apply(this,arguments);return t},sort:function(){var e=Array.prototype.sort,t=e.apply(this,arguments);return t}};Reflect.setPrototypeOf(n,Array.prototype),Reflect.setPrototypeOf(e,n)}(u,r.get(s)),u)},set:function(n,i,s,l){if(!n.hasOwnProperty(i)&&Reflect.has(n,i))return Reflect.set(n,i,s);if(s instanceof Component){var h=a.get(i),u=r.get(i);a.set(i,s),r.set(i,new Map),c.delete(i);var d=o?"".concat(o,".").concat(i):i;return S.publish(e,"set",[new Map([[d,u]]),new Map([[d,r.get(i)]])]),S.publish(e,d,[s,h]),!0}var f=c.get(i),p=r.get(i);c.delete(i),r.delete(i),Reflect.set(n,i,s.$target||s);var v=l[i];!function n(o,c){if(o instanceof Component)return;"object"==t(o)&&"object"==t(c)&&Object.keys(c).forEach(function(r){L.$cache=new Map;var a=o[r],i=L.$cache;L.$cache=new Map;var s=c[r],l=L.$cache;"object"!=t(a)&&"object"!=t(s)&&S.publish(e,"set",[l,i]),n(a,s)})}(v,f);var w=o?"".concat(o,".").concat(i):i;return S.publish(e,"set",[new Map([[w,p]]),new Map([[w,r.get(i)]])]),S.publish(e,w,[v,f]),!0}}}()),Object.keys(n).forEach(function(t){return S.subscribe(e,t,n[t])}),Object.keys(o||{}).forEach(function(t){return S.subscribe(e,t,o[t])}),e}var S=new(function(){function e(){n(this,e),this.map=new Map}return c(e,[{key:"publish",value:function(e,t,n){var o=this.map.get(e);if(o){var c=o.get(t);c?c.data.push(n):o.set(t,{data:[n],queue:[]})}else{var r=new Map;r.set(t,{data:[r],queue:[]}),this.map.set(e,r)}this.notify(o.get(t),e)}},{key:"notify",value:function(e,t){if(e)for(var n=function(){var n=e.data.shift();e.queue.forEach(function(e){e.apply(t,n)})};e.data.length;)n();else this.map.forEach(function(e){e.forEach(function(e){for(var n=function(){var n=e.data.shift();e.queue.forEach(function(e){e.apply(t,n)})};e.data.length;)n()})})}},{key:"subscribe",value:function(e,t,n){var o=this.map.get(e);if(o){var c=o.get(t);c?c.queue.push(n):o.set(t,{data:[],queue:[n]})}else{var r=new Map;r.set(t,{data:[],queue:[n]}),this.map.set(e,r)}}}]),e}());function T(e){try{return document.querySelectorAll(e)}catch(n){var t=document.createElement("div");return t.innerHTML=e.trim(),t.childNodes}}function q(e,t,n){this.addEventListener?this.addEventListener(e,function(e){t.forEach(function(t,o){t.forEach(function(t){var c=t?b("[".concat(t,"]"),n):[];c.push(e);var r=Reflect.getPrototypeOf(o),a=Object.assign({},r);Reflect.setPrototypeOf(a,n||o.$model),o.apply(a,c)})})},!1):this.attachEvent?this.attachEvent("on"+e,function(e){t.forEach(function(t,o){t.forEach(function(t){var c=t?b("[".concat(t,"]"),n):[];c.push(e);var r=Reflect.getPrototypeOf(o),a=Object.assign({},r);Reflect.setPrototypeOf(a,n||o.$model),o.apply(a,c)})})}):element["on"+e]=function(e){t.forEach(function(t,o){t.forEach(function(t){var c=t?b("[".concat(t,"]"),n):[];c.push(e);var r=Reflect.getPrototypeOf(o),a=Object.assign({},r);Reflect.setPrototypeOf(a,n||o.$model),o.apply(a,c)})})}}Object.assign(Node.prototype,{on:function(e,t,n,o){if(this._manager)if(this._manager.get(e)){var c=this._manager.get(e);c.get(t)?c.get(t).ones(o):c.set(t,[o])}else{var r=new Map;r.set(t,[o]),this._manager.set(e,r),q.call(this,e,r,n)}else{var a=new Map;a.set(t,[o]),this._manager=new Map,this._manager.set(e,a),q.call(this,e,a,n)}return this},off:function(e,t){if(this._manager){var n=this._manager.get(e);if(void 0==n)return;if(n.delete(t),n.size)return;this._manager.delete(e),function(e,t){this.addEventListener?this.removeEventListener(e,t,!1):this.detachEvent?this.detachEvent("on"+e,t):element["on"+e]=null}.call(this,e,t)}return this},reappend:function(e){return a(s(this.childNodes),function(e){e.parentNode.removeChild(e)}),this.appendChild(e),this},before:function(e){this.parentNode.insertBefore(e,this)},after:function(e){this.nextSibling?this.parentNode.insertBefore(e,this.nextSibling):this.parentNode.appendChild(e)}}),Object.assign(NodeList.prototype,{on:function(e,t){return a(this,function(n){n.on(e,t)}),this},off:function(e,t){return a(this,function(n){n.off(e,t)}),this}});var L={$path:void 0},D=function(){function e(t){n(this,e),this.model=F(t.model,B),this.action=t.action,this.watch=t.watch,this.filter=t.filter,this.creater(t)}return c(e,[{key:"creater",value:function(e){this.content={childNodes:[],children:[]},this.view=T(e.view)[0];var t=function e(t,n){var o=n||[];return r(t,function(n){if(t.shift(),new RegExp(g).test(n.nodeValue))return!0;var c={clas:n.cloneNode(!0),children:[]};3==n.nodeType&&""==n.nodeValue.trim()||o.push(c),1==n.nodeType?e(s(n.childNodes),c.children):new RegExp(u).test(n.nodeValue)&&e(t,c.children)}),o}(function e(t){return a(t,function(t){t.childNodes[0]&&!/(CODE|SCRIPT)/.test(t.nodeName)&&e(s(t.childNodes)),3==t.nodeType&&t.nodeValue.replace(h,function(e){var n=t.nodeValue.split(e);t.parentNode.insertBefore(document.createTextNode(n[0]),t),t.parentNode.insertBefore(document.createTextNode(e.trim()),t),t.nodeValue=t.nodeValue.replace(n[0],"").replace(e,"")})}),t}([this.view]))[0];!function(e){var t={$view:e.view,$model:e.model,$action:e.action,$watch:e.watch};e.action=e.action||{},Reflect.setPrototypeOf(t,Function.prototype),Object.values(e.action).forEach(function(e){return Reflect.setPrototypeOf(e,t)});var n=Object.assign({},t);e.filter=e.filter||{},Reflect.setPrototypeOf(e.filter,n)}(this),P.view(this.view,t,this.model,this.content,this)}}]),e}(),B={set:function(e,t){!function(e,t){e&&t?e.forEach(function(e){e&&e.forEach(function(e,n){s(e).forEach(function(o){!function e(t,n){try{return t.every(function(t){if(t.node){var o=t.node.ownerElement||t.node;return n=document.body.contains(o),!1}n=e(t.childNodes)}),n}catch(e){console.error(e)}}([o])?e.remove(o):P[o.resolver](o,n,t)})})}):e&&!t&&e.forEach(function(e){e&&e.forEach(function(e){_(e)})})}(e,t)},get:function(e){L.$path=e}},I=function(){function e(t){n(this,e),this.model=t.model,this.action=t.action,this.watch=t.watch,this.filter=t.filter,this.creater(t)}return c(e,[{key:"creater",value:function(e){this.content={childNodes:[],children:[]};var t=T(e.view)[0];t.parentNode.removeChild(t),this.view=t.outerHTML}}]),e}();return window.View=D,window.Component=I,window.Router=function(e,t){var n,o,c,r=/^:/,a=/^\/(.+)/;this.redreact=u;var i,s=!((i=window.navigator.userAgent).indexOf("compatible")>-1&&i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1||i.indexOf("Edge")>-1)&&window.history&&"pushState"in window.history;function l(e){for(c=Object.keys(t);c.length;){n=c.shift(),o={};var r=n.replace(a,"$1");if(h(r=r.split("/"),e.split("/")))return{component:t[n].component,router:t[n].router,action:t[n].action,after:t[n].after,params:o,path:e}}}function h(e,t){for(;t.length;){var n=e.shift(),c=t.shift();if(c!=n){if(!r.test(n))return!1;n=n.replace(r,""),o[n]=c}}return!0}function u(e){var t=window.location.pathname;window.location.href=t+"#"+e}function d(t){var n=l(window.location.hash.replace(/^#\/?/,""));n?(n.action(n.params),e.model[n.router]=n.component,n.after&&n.after()):void 0!=t&&"load"!=t.type||u("")}window.addEventListener("load",d,d()),window.addEventListener(s?"popstate":"hashchange",d,!1)},window.query=T,e.Component=I,e.View=D,e.global=L,e}({});

<!DOCTYPE html>
<html>

<head>
  <title>main.html</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link href="https://kendo.cdn.telerik.com/2017.3.1018/styles/kendo.common.min.css" rel="stylesheet" />
  <link href="https://kendo.cdn.telerik.com/2017.3.1018/styles/kendo.silver.min.css" rel="stylesheet" />
  <script type="text/javascript" src="../../release/view.js"></script>

</head>

<body>
  <div class="k-grid k-widget" style="margin:0 auto;">
    <div class="k-grid-header" style="display:{{list[0]?'block':'none'}}">
      <table style="width: 100%;">
        <tr>
          <th each="item:columns" class="k-header" style="border-width: 0 0 0px 1px;">
            {{item}}
          </th>
          <th class="k-header" style="border-width: 0 0 0px 1px;">
            操作项
          </th>
        </tr>
      </table>
    </div>
    <div class="k-grid-content k-auto-scrollable" style="height:602px;">
      <table style="width: 100%;" class="k-grid">
        <tbody class="k-tbody-edit">
          <tr each="item:id:list" class="{{id%2?'k-alt':''}}">
            <td each="col:item">
              @when(edit===id){
                <input id="{{id}}" value="{{col}}" style="border-width: 0px;background-color: rgba(255, 255, 255, 0);width:100%;height:20px"> 
              }.when{ 
                {{col}} 
              }
            </td>
            <td each="col:item">
            </td>
            <td>
              <span class="k-button k-button-icontext k-grid-add">添加</span>
              <span class="k-button k-button-icontext k-grid-edit" id="{{id}}">
                @when(edit===id){ 
                  保存 
                }.when{ 
                  编辑 
                }
              </span>
              <span class="k-button k-button-icontext k-grid-delete" id="{{id}}">删除</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</body>
<script type="text/javascript">
  var grid = new View({
    view: ".k-grid",
    model: {
      edit: false,
      columns: {
        "id": "档案编号",
        "age": "门店名称",
        "username": "借款人",
        "address": "住址"
      },
      list: [{
        "id": 10000,
        "age": "宁波店",
        "username": "小小的-0",
        "address": "未知"
      }]
    }
  });

  var data = [];
  for (var i = 0; i < 1000; i++) {
    data.push({
      "id": 10000 + data.length,
      "username": "小小的-" + data.length,
      "age": "宁波店" + data.length,
      "address": "西湖区-" + data.length
    })
  }
  grid.model.list = data;
</script>

</html>